<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Gerador de Or√ßamentos Profissional - Crie or√ßamentos personalizados de forma r√°pida e f√°cil" />
  <meta name="theme-color" content="#0d7de0" />
  <title>Gerador de Or√ßamentos ‚Äî SoftPrime</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="header-row">
      <div class="brand">
        <div class="logo">SoftPrime</div>
        <div class="site-title">Gerador de Or√ßamentos</div>
      </div>
      <div class="header-actions">
        <button id="exportCsvBtn" class="btn btn-ghost" title="Exportar todos os or√ßamentos para Excel">
          üìä Exportar Excel
        </button>
        <button id="exportDocBtn" class="btn btn-ghost" title="Exportar or√ßamento atual para Word">
          üìÑ Exportar Word
        </button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- Se√ß√£o de Emissores e Clientes -->
    <section class="card two-col">
      <div>
        <h4>üìù Dados do Emissor</h4>
        <form id="issuerForm" class="form-grid" autocomplete="off">
          <div class="full">
            <label for="issuerName" class="sr-only">Nome / Raz√£o social</label>
            <input id="issuerName" placeholder="Nome / Raz√£o social *" required aria-label="Nome do emissor" />
          </div>
          <div class="half">
            <label for="issuerCnpjCpf" class="sr-only">CPF / CNPJ</label>
            <input id="issuerCnpjCpf" placeholder="CPF / CNPJ" aria-label="CPF ou CNPJ do emissor" />
          </div>
          <div class="half">
            <label for="issuerPhone" class="sr-only">Telefone</label>
            <input id="issuerPhone" placeholder="Telefone" type="tel" aria-label="Telefone do emissor" />
          </div>
          <div class="full">
            <label for="issuerAddress" class="sr-only">Endere√ßo completo</label>
            <textarea id="issuerAddress" placeholder="Endere√ßo completo" rows="2" aria-label="Endere√ßo do emissor"></textarea>
          </div>
          <div class="form-actions">
            <button id="issuerSubmitBtn" class="btn btn-primary full" type="submit">Adicionar Emissor</button>
            <button id="issuerCancelBtn" class="btn btn-outline full" type="button">Cancelar</button>
          </div>
        </form>
        
        <div id="issuerListContainer" style="margin-top:20px;">
          <ul id="issuerList" class="list"></ul>
        </div>
      </div>

      <div>
        <h4>üë§ Dados do Cliente</h4>
        <form id="clientForm" class="form-grid" autocomplete="off">
          <div class="full">
            <label for="clientName" class="sr-only">Nome / Empresa</label>
            <input id="clientName" placeholder="Nome / Empresa *" required aria-label="Nome do cliente" />
          </div>
          <div class="half">
            <label for="clientCnpjCpf" class="sr-only">CPF / CNPJ</label>
            <input id="clientCnpjCpf" placeholder="CPF / CNPJ" aria-label="CPF ou CNPJ do cliente" />
          </div>
          <div class="half">
            <label for="clientPhone" class="sr-only">Telefone</label>
            <input id="clientPhone" placeholder="Telefone" type="tel" aria-label="Telefone do cliente" />
          </div>
          <div class="full">
            <label for="clientAddress" class="sr-only">Endere√ßo completo</label>
            <textarea id="clientAddress" placeholder="Endere√ßo completo" rows="2" aria-label="Endere√ßo do cliente"></textarea>
          </div>
          <div class="form-actions">
            <button id="clientSubmitBtn" class="btn btn-primary full" type="submit">Adicionar Cliente</button>
            <button id="clientCancelBtn" class="btn btn-outline full" type="button">Cancelar</button>
          </div>
        </form>
        
        <div id="clientListContainer" style="margin-top:20px;">
          <ul id="clientList" class="list"></ul>
        </div>
      </div>
    </section>

    <!-- Novo Or√ßamento -->
    <section class="card">
      <h4>üíº Novo Or√ßamento</h4>
      <div class="form-grid" style="margin-bottom:20px;">
        <div>
          <label for="selectIssuer" style="display:block;margin-bottom:6px;font-weight:600;font-size:14px;color:#4b5563;">
            Emissor *
          </label>
          <select id="selectIssuer" required aria-label="Selecione o emissor">
            <option value="">-- selecione o emissor --</option>
          </select>
        </div>
        <div>
          <label for="selectClient" style="display:block;margin-bottom:6px;font-weight:600;font-size:14px;color:#4b5563;">
            Cliente *
          </label>
          <select id="selectClient" required aria-label="Selecione o cliente">
            <option value="">-- selecione o cliente --</option>
          </select>
        </div>
      </div>

      <!-- Informa√ß√µes do Or√ßamento -->
      <div class="form-grid" style="margin-bottom:20px;padding:16px;background:#f9fafb;border-radius:8px;">
        <div>
          <label for="quoteNumber" style="display:block;margin-bottom:6px;font-weight:600;font-size:14px;color:#4b5563;">
            N√∫mero do Or√ßamento
          </label>
          <input id="quoteNumber" placeholder="Gerado automaticamente" readonly aria-label="N√∫mero do or√ßamento" />
        </div>
        <div>
          <label for="quoteDate" style="display:block;margin-bottom:6px;font-weight:600;font-size:14px;color:#4b5563;">
            Data
          </label>
          <input id="quoteDate" placeholder="Data atual" readonly aria-label="Data do or√ßamento" />
        </div>
      </div>

      <!-- Itens do Or√ßamento -->
      <div class="items-wrap">
        <h4 style="margin-bottom:12px;">üìã Itens do Or√ßamento</h4>
        <div style="overflow-x:auto;">
          <table class="items-table" id="itemsTable" aria-label="Tabela de itens do or√ßamento">
            <thead>
              <tr>
                <th style="width:50%">Descri√ß√£o</th>
                <th style="width:12%">Qtd</th>
                <th style="width:16%">Unit. (R$)</th>
                <th style="width:16%">Total (R$)</th>
                <th style="width:6%"></th>
              </tr>
            </thead>
            <tbody id="itemsBody"></tbody>
          </table>
        </div>

        <div class="row-between" style="margin-top:16px;">
          <div>
            <button id="addItemBtn" class="btn btn-add">+ Adicionar Item</button>
          </div>
          <div style="display:flex;gap:20px;align-items:center;flex-wrap:wrap;">
            <div class="subtotal">Subtotal: R$ <strong><span id="subtotal">0.00</span></strong></div>
            <div class="total">Total: R$ <strong><span id="grandTotal">0.00</span></strong></div>
          </div>
        </div>
      </div>

      <!-- Observa√ß√µes -->
      <div style="margin-top:20px;">
        <label for="notes" style="display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#4b5563;">
          üìå Observa√ß√µes (opcional)
        </label>
        <textarea id="notes" rows="4" placeholder="Adicione observa√ß√µes, condi√ß√µes de pagamento, prazo de validade, etc." aria-label="Observa√ß√µes do or√ßamento"></textarea>
      </div>
    </section>

    <!-- Bot√µes de A√ß√£o -->
    <div class="generate-wrap">
      <button id="saveQuoteBtn" class="btn btn-primary btn-generate">
        üìÑ Gerar Or√ßamento
      </button>
      <button id="cancelEditBtn" class="btn btn-outline" style="width:100%;margin-top:12px;">
        Cancelar Edi√ß√£o
      </button>
    </div>

    <!-- Or√ßamentos Salvos -->
    <section class="card">
      <h4>üíæ Or√ßamentos Salvos</h4>
      <ul id="quotesList" class="list" aria-label="Lista de or√ßamentos salvos"></ul>
    </section>
  </main>

  <!-- Modal de Preview -->
  <div id="previewModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="previewTitle">
    <div class="modal-box">
      <button id="closePreview" class="modal-close" aria-label="Fechar visualiza√ß√£o">√ó</button>
      <h3 id="previewTitle" style="margin-bottom:20px;font-size:20px;">Visualiza√ß√£o do Or√ßamento</h3>
      <div id="previewArea" style="border:1px solid #e5e7eb;padding:20px;border-radius:8px;background:#fff;"></div>
      <div class="modal-actions">
        <button id="printBtn" class="btn btn-primary">üñ®Ô∏è Imprimir / Salvar PDF</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <p>¬© 2026 Desenvolvido por <strong>SoftPrime</strong> - Todos os direitos reservados</p>
  </footer>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>